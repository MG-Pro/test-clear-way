# Просмотр и аннотирование документов

Проект реализует систему просмотра документов с возможностью добавления текстовых аннотаций на изображения страниц. Приложение получает данные о документе по API и отображает его страницы в виде вертикального списка изображений. Аннотации добавляются по клику на документе и могут быть перемещены путем перетаскивания. Состояние сохраняется в LocalStorage.

## Плюсы реализации

- Чистая модульная структура с разделением на компоненты и сервисы
- Drag & Drop аннотаций: Кастомная реализация без сторонних библиотек
- Масштабирование: Плавный зум документа с кнопками +/-
- Сохранение состояния: Корректная сериализация аннотаций при сохранении
- Адаптивный интерфейс: Учет различных размеров экрана
- Типизация с интерфейсами для данных
- Использование пайпов для трансформации данных
- Использование Signal API
- Применение OnPush changeDetection стратегии во всех компонентах

## Проблемы реализации

- Нет валидации и нормализации данных из API, что может привести к ошибкам при некорректном ответе.
  - Решение:
    - Добавить валидацию и обработку ошибок

- Все изображения загружаются одновременно, что может привести к проблемам с производительностью.
  - Решение:
    - Реализовать виртуальный скроллинг
    - Добавить пагинацию или lazy loading изображений
    - Использовать Intersection Observer для загрузки видимых изображений
- Проект не содержит unit-тестов.
  - Решение:
    - Покрытие тестами основного функционала
- Текущая реализация зума через изменение размеров контейнера может привести к проблемам с производительностью (лишние вызовы ререндора браузера).
  - Решение:
      - Реализовать масштабирование через CSS transform
-  Отсутствие дебаунса/троттлинга.  Частые обновления при создании/перемещении аннотаций могут привести к лагам.
   - Решение:
      - Реализовать троттлинг при клике на странице, чтобы закрыть возможность неограниченного добавления аннотаций за короткое время
      - Реализовать дебаунс на событие mouseMove при перемещении аннотации
- Директива Dragging реализована под узкую задачу работы с аннотациями
  - Решение
    - Реализация более универсального решения с оптимизацией производительности

## Зависимости

- Angular v21.1.
- Taiga UI v4.68.0
